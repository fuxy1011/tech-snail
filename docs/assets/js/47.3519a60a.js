(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{319:function(t,e,a){"use strict";a.r(e);var _=a(38),v=Object(_.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"tcp三次握手四次挥手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp三次握手四次挥手","aria-hidden":"true"}},[t._v("#")]),t._v(" TCP三次握手四次挥手")]),t._v(" "),a("h2",{attrs:{id:"三次握手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三次握手","aria-hidden":"true"}},[t._v("#")]),t._v(" 三次握手")]),t._v(" "),a("blockquote",[a("p",[t._v("建立连接前，客户端和服务端需要通过握手来确认对方:")])]),t._v(" "),a("ul",[a("li",[t._v("客户端发送 syn(同步序列编号) 请求，进入 syn_send 状态，等待确认")]),t._v(" "),a("li",[t._v("服务端接收并确认 syn 包后发送 syn+ack 包，进入 syn_recv 状态")]),t._v(" "),a("li",[t._v("客户端接收 syn+ack 包后，发送 ack 包，双方进入 established 状态")])]),t._v(" "),a("blockquote",[a("p",[t._v("类比 我要练习 火影忍者 的黄色闪电 忍术，同时光速传递些东西。但需要先标记。")])]),t._v(" "),a("ul",[a("li",[t._v("我把信物绑在1个鸽子上，飞鸽传书给 发小，此时进入发送状态，等待发小确认。")]),t._v(" "),a("li",[t._v("发小收到并确认信物后，将信物及回复 打包成一个整体 后 再次绑定在鸽子上，飞鸽传书回来给我。此时进入接收状态")]),t._v(" "),a("li",[t._v("我收到 发小给我的回复(标记成功)后，和发小之间就可以拥有一条供黄色闪电光速传递的双向通道了。")])]),t._v(" "),a("h2",{attrs:{id:"tcp四次挥手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp四次挥手","aria-hidden":"true"}},[t._v("#")]),t._v(" TCP四次挥手")]),t._v(" "),a("blockquote",[a("p",[t._v("概要")])]),t._v(" "),a("ul",[a("li",[t._v("客户端 -- FIN --\x3e 服务端， FIN—WAIT")]),t._v(" "),a("li",[t._v("服务端 -- ACK --\x3e 客户端， CLOSE-WAIT")]),t._v(" "),a("li",[t._v("服务端 -- ACK,FIN --\x3e 客户端， LAST-ACK")]),t._v(" "),a("li",[t._v("客户端 -- ACK --\x3e 服务端，CLOSED")])]),t._v(" "),a("blockquote",[a("p",[t._v("类比 疫情需要，要关闭黄色闪电光速通道了，防止感染或传播疫情")])]),t._v(" "),a("ul",[a("li",[t._v("我 通过 黄色闪电 通道 发“这条是最后1次交易了啊，现在疫情比较严重，通道暂时关了哈”，此时进入等待确认阶段。")]),t._v(" "),a("li",[t._v("发小，通过 黄色闪电 通道 接收到消息后 ，认同观点，然后顺手把自己负责的通过关了。此时进行服务器关闭阶段")]),t._v(" "),a("li",[t._v("发小，通过 黄色闪电 通道 将通道关闭的消息，回传给我最后一次消息：发“恩行。的确是疫情比较严重，我同意你的意见，我已经把我这关了”")]),t._v(" "),a("li",[t._v("我收到回复后，也关闭了自己负责的通道。至此 双向通道都已关闭。")])]),t._v(" "),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考","aria-hidden":"true"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.im/post/5c64d15d6fb9a049d37f9c20",target:"_blank",rel:"noopener noreferrer"}},[t._v("中高级前端大厂面试秘籍，为你保驾护航金三银四，直通大厂(上)"),a("OutboundLink")],1)])])},[],!1,null,null,null);e.default=v.exports}}]);