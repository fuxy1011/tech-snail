<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES6/7 | èœ—ç‰›ğŸŒä¸ç‰›</title>
    <meta name="description" content="æŠ€æœ¯æ–¹é¢çš„æ²‰æ·€ï¼Œç§¯ç´¯">
    
    
    <link rel="preload" href="/tech-snail/assets/css/0.styles.85bd4d7d.css" as="style"><link rel="preload" href="/tech-snail/assets/js/app.8bc03a47.js" as="script"><link rel="preload" href="/tech-snail/assets/js/2.af02b215.js" as="script"><link rel="preload" href="/tech-snail/assets/js/24.9ed1c089.js" as="script"><link rel="prefetch" href="/tech-snail/assets/js/10.1337ea03.js"><link rel="prefetch" href="/tech-snail/assets/js/11.e9cb61ed.js"><link rel="prefetch" href="/tech-snail/assets/js/12.0864c6fb.js"><link rel="prefetch" href="/tech-snail/assets/js/13.c7ef58ae.js"><link rel="prefetch" href="/tech-snail/assets/js/14.cd83bfac.js"><link rel="prefetch" href="/tech-snail/assets/js/15.ed08eeb8.js"><link rel="prefetch" href="/tech-snail/assets/js/16.38961523.js"><link rel="prefetch" href="/tech-snail/assets/js/17.b4143f4e.js"><link rel="prefetch" href="/tech-snail/assets/js/18.71038150.js"><link rel="prefetch" href="/tech-snail/assets/js/19.8890eea3.js"><link rel="prefetch" href="/tech-snail/assets/js/20.9b1ea8eb.js"><link rel="prefetch" href="/tech-snail/assets/js/21.1f1ca06b.js"><link rel="prefetch" href="/tech-snail/assets/js/22.592b254b.js"><link rel="prefetch" href="/tech-snail/assets/js/23.802e1adb.js"><link rel="prefetch" href="/tech-snail/assets/js/25.8e0ca60f.js"><link rel="prefetch" href="/tech-snail/assets/js/26.bff46031.js"><link rel="prefetch" href="/tech-snail/assets/js/27.ac1b3ce4.js"><link rel="prefetch" href="/tech-snail/assets/js/28.e0f8190e.js"><link rel="prefetch" href="/tech-snail/assets/js/29.372c3c60.js"><link rel="prefetch" href="/tech-snail/assets/js/3.dae8d015.js"><link rel="prefetch" href="/tech-snail/assets/js/30.872783e6.js"><link rel="prefetch" href="/tech-snail/assets/js/31.1e0d28eb.js"><link rel="prefetch" href="/tech-snail/assets/js/32.5616f90e.js"><link rel="prefetch" href="/tech-snail/assets/js/33.7486ab0c.js"><link rel="prefetch" href="/tech-snail/assets/js/34.43a874a9.js"><link rel="prefetch" href="/tech-snail/assets/js/35.7ccb4284.js"><link rel="prefetch" href="/tech-snail/assets/js/36.e2e3f021.js"><link rel="prefetch" href="/tech-snail/assets/js/37.10812eef.js"><link rel="prefetch" href="/tech-snail/assets/js/38.8c0b191e.js"><link rel="prefetch" href="/tech-snail/assets/js/39.1c02f3ae.js"><link rel="prefetch" href="/tech-snail/assets/js/4.435193cd.js"><link rel="prefetch" href="/tech-snail/assets/js/40.42900fae.js"><link rel="prefetch" href="/tech-snail/assets/js/41.69443901.js"><link rel="prefetch" href="/tech-snail/assets/js/42.dccc7964.js"><link rel="prefetch" href="/tech-snail/assets/js/43.0a7eeb71.js"><link rel="prefetch" href="/tech-snail/assets/js/44.a2e21c35.js"><link rel="prefetch" href="/tech-snail/assets/js/45.3a237454.js"><link rel="prefetch" href="/tech-snail/assets/js/46.1b4633e2.js"><link rel="prefetch" href="/tech-snail/assets/js/47.84a22efe.js"><link rel="prefetch" href="/tech-snail/assets/js/48.0c628dd3.js"><link rel="prefetch" href="/tech-snail/assets/js/49.9e4a5a84.js"><link rel="prefetch" href="/tech-snail/assets/js/5.34d8bdf6.js"><link rel="prefetch" href="/tech-snail/assets/js/50.53dfe215.js"><link rel="prefetch" href="/tech-snail/assets/js/51.2ce1b0ac.js"><link rel="prefetch" href="/tech-snail/assets/js/52.622b7a14.js"><link rel="prefetch" href="/tech-snail/assets/js/53.4d2da33a.js"><link rel="prefetch" href="/tech-snail/assets/js/54.ebfd911d.js"><link rel="prefetch" href="/tech-snail/assets/js/55.1062706e.js"><link rel="prefetch" href="/tech-snail/assets/js/56.10c9e912.js"><link rel="prefetch" href="/tech-snail/assets/js/57.1b9c6f61.js"><link rel="prefetch" href="/tech-snail/assets/js/58.99661ddf.js"><link rel="prefetch" href="/tech-snail/assets/js/59.17382adc.js"><link rel="prefetch" href="/tech-snail/assets/js/6.10adfa8f.js"><link rel="prefetch" href="/tech-snail/assets/js/60.0b8bb1bb.js"><link rel="prefetch" href="/tech-snail/assets/js/7.58c47e3f.js"><link rel="prefetch" href="/tech-snail/assets/js/8.695e78fb.js"><link rel="prefetch" href="/tech-snail/assets/js/9.54248b61.js">
    <link rel="stylesheet" href="/tech-snail/assets/css/0.styles.85bd4d7d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/tech-snail/" class="home-link router-link-active"><!----> <span class="site-name">èœ—ç‰›ğŸŒä¸ç‰›</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/tech-snail/base/" class="nav-link router-link-active">åŸºç¡€</a></div><div class="nav-item"><a href="/tech-snail/react/" class="nav-link">React</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">snail</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tech-snail/snail-book/" class="nav-link">èœ—ç‰›å°å†Œå­</a></li><li class="dropdown-item"><!----> <a href="/tech-snail/snail/" class="nav-link">ä¹Œé¾Ÿè®¡åˆ’</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/fuxy1011/tech-snail" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/tech-snail/base/" class="nav-link router-link-active">åŸºç¡€</a></div><div class="nav-item"><a href="/tech-snail/react/" class="nav-link">React</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">snail</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tech-snail/snail-book/" class="nav-link">èœ—ç‰›å°å†Œå­</a></li><li class="dropdown-item"><!----> <a href="/tech-snail/snail/" class="nav-link">ä¹Œé¾Ÿè®¡åˆ’</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/fuxy1011/tech-snail" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>åŸºç¡€</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tech-snail/base/" class="sidebar-link">ä»¥ç»ˆä¸ºå§‹,ç›®æ ‡å›æº¯</a></li><li><a href="/tech-snail/base/js-run-origin.html" class="sidebar-link">jsè¿è¡Œæœºåˆ¶</a></li><li><a href="/tech-snail/base/css-box.html" class="sidebar-link">ç›’å­æ¨¡å‹</a></li><li><a href="/tech-snail/base/self-code.html" class="sidebar-link">æ‰‹å†™ä»£ç </a></li><li><a href="/tech-snail/base/http.html" class="sidebar-link">HTTP</a></li><li><a href="/tech-snail/base/extends.html" class="sidebar-link">ç»§æ‰¿</a></li><li><a href="/tech-snail/base/es6.html" class="sidebar-link">ES6</a></li><li><a href="/tech-snail/base/ajax.html" class="sidebar-link">ajax</a></li><li><a href="/tech-snail/base/prototype.html" class="sidebar-link">jsåŸå‹</a></li><li><a href="/tech-snail/base/closure.html" class="sidebar-link">jsé—­åŒ…</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="es6-7"><a href="#es6-7" aria-hidden="true" class="header-anchor">#</a> ES6/7</h1> <blockquote><p>é¢˜ç›®ï¼šES6 ç®­å¤´å‡½æ•°ä¸­çš„thiså’Œæ™®é€šå‡½æ•°ä¸­çš„æœ‰ä»€ä¹ˆä¸åŒ</p></blockquote> <h2 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" aria-hidden="true" class="header-anchor">#</a> ç®­å¤´å‡½æ•°</h2> <p>ç®­å¤´å‡½æ•°æ˜¯ ES6 ä¸­æ–°çš„å‡½æ•°å®šä¹‰å½¢å¼ï¼Œfunction name(arg1, arg2) {...}å¯ä»¥ä½¿ç”¨(arg1, arg2) =&gt; {...}æ¥å®šä¹‰ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JS æ™®é€šå‡½æ•°</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
    <span class="token keyword">return</span> item <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// ES6 ç®­å¤´å‡½æ•°</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
    <span class="token keyword">return</span> item <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>ç®­å¤´å‡½æ•°å­˜åœ¨çš„æ„ä¹‰ï¼Œç¬¬ä¸€å†™èµ·æ¥æ›´åŠ ç®€æ´ï¼Œç¬¬äºŒå¯ä»¥è§£å†³ ES6 ä¹‹å‰å‡½æ•°æ‰§è¡Œä¸­thisæ˜¯å…¨å±€å˜é‡çš„é—®é¢˜ï¼Œçœ‹å¦‚ä¸‹ä»£ç </p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'real'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>  <span class="token comment">// {a: 100} ï¼Œè¯¥ä½œç”¨åŸŸä¸‹çš„ this çš„çœŸå®çš„å€¼</span>
    <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
    <span class="token comment">// æ™®é€š JS</span>
    arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'js'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>  <span class="token comment">// window ã€‚æ™®é€šå‡½æ•°ï¼Œè¿™é‡Œæ‰“å°å‡ºæ¥çš„æ˜¯å…¨å±€å˜é‡ï¼Œä»¤äººè´¹è§£</span>
        <span class="token keyword">return</span> item <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// ç®­å¤´å‡½æ•°</span>
    arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'es6'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>  <span class="token comment">// {a: 100} ã€‚ç®­å¤´å‡½æ•°ï¼Œè¿™é‡Œæ‰“å°çš„å°±æ˜¯çˆ¶ä½œç”¨åŸŸçš„ this</span>
        <span class="token keyword">return</span> item <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span>a<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>é¢˜ç›®ï¼šES6 æ¨¡å—åŒ–å¦‚ä½•ä½¿ç”¨ï¼Ÿ</p></blockquote> <h2 id="module"><a href="#module" aria-hidden="true" class="header-anchor">#</a> Module</h2> <p>ES6 ä¸­æ¨¡å—åŒ–è¯­æ³•æ›´åŠ ç®€æ´ï¼Œç›´æ¥çœ‹ç¤ºä¾‹ã€‚</p> <p>å¦‚æœåªæ˜¯è¾“å‡ºä¸€ä¸ªå”¯ä¸€çš„å¯¹è±¡ï¼Œä½¿ç”¨export defaultå³å¯ï¼Œä»£ç å¦‚ä¸‹</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// åˆ›å»º util1.js æ–‡ä»¶ï¼Œå†…å®¹å¦‚</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">:</span> <span class="token number">100</span>
<span class="token punctuation">}</span>

<span class="token comment">// åˆ›å»º index.js æ–‡ä»¶ï¼Œå†…å®¹å¦‚</span>
<span class="token keyword">import</span> obj <span class="token keyword">from</span> <span class="token string">'./util1.js'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
</code></pre></div><p>å¦‚æœæƒ³è¦è¾“å‡ºè®¸å¤šä¸ªå¯¹è±¡ï¼Œå°±ä¸èƒ½ç”¨defaultäº†ï¼Œä¸”importæ—¶å€™è¦åŠ {...}ï¼Œä»£ç å¦‚ä¸‹</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// åˆ›å»º util2.js æ–‡ä»¶ï¼Œå†…å®¹å¦‚</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'fn1'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'fn2'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// åˆ›å»º index.js æ–‡ä»¶ï¼Œå†…å®¹å¦‚</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> fn1<span class="token punctuation">,</span> fn2 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./util2.js'</span>
<span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>é¢˜ç›®ï¼šES6 class å’Œæ™®é€šæ„é€ å‡½æ•°çš„åŒºåˆ«</p></blockquote> <h2 id="class"><a href="#class" aria-hidden="true" class="header-anchor">#</a> class</h2> <p>class å…¶å®ä¸€ç›´æ˜¯ JS çš„å…³é”®å­—ï¼ˆä¿ç•™å­—ï¼‰ï¼Œä½†æ˜¯ä¸€ç›´æ²¡æœ‰æ­£å¼ä½¿ç”¨ï¼Œç›´åˆ° ES6 ã€‚ ES6 çš„ class å°±æ˜¯å–ä»£ä¹‹å‰æ„é€ å‡½æ•°åˆå§‹åŒ–å¯¹è±¡çš„å½¢å¼ï¼Œä»è¯­æ³•ä¸Šæ›´åŠ ç¬¦åˆé¢å‘å¯¹è±¡çš„å†™æ³•ã€‚ä¾‹å¦‚ï¼š</p> <p>JS æ„é€ å‡½æ•°çš„å†™æ³•</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">MathHandle</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">MathHandle</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MathHandle</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>ç”¨ ES6 class çš„å†™æ³•</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">MathHandle</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MathHandle</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼Œå…¨éƒ½æ˜¯å…³äº class è¯­æ³•çš„ï¼š</p> <ul><li>class æ˜¯ä¸€ç§æ–°çš„è¯­æ³•å½¢å¼ï¼Œæ˜¯class Name {...}è¿™ç§å½¢å¼ï¼Œå’Œå‡½æ•°çš„å†™æ³•å®Œå…¨ä¸ä¸€æ ·</li> <li>ä¸¤è€…å¯¹æ¯”ï¼Œæ„é€ å‡½æ•°å‡½æ•°ä½“çš„å†…å®¹è¦æ”¾åœ¨ class ä¸­çš„constructorå‡½æ•°ä¸­ï¼Œconstructorå³æ„é€ å™¨ï¼Œåˆå§‹åŒ–å®ä¾‹æ—¶é»˜è®¤æ‰§è¡Œ</li> <li>class ä¸­å‡½æ•°çš„å†™æ³•æ˜¯add() {...}è¿™ç§å½¢å¼ï¼Œå¹¶æ²¡æœ‰functionå…³é”®å­—</li></ul> <p>ä½¿ç”¨ class æ¥å®ç°ç»§æ‰¿å°±æ›´åŠ ç®€å•äº†ï¼Œè‡³å°‘æ¯”æ„é€ å‡½æ•°å®ç°ç»§æ‰¿ç®€å•å¾ˆå¤šã€‚çœ‹ä¸‹é¢ä¾‹å­</p> <p>JS æ„é€ å‡½æ•°å®ç°ç»§æ‰¿</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// åŠ¨ç‰©</span>
<span class="token keyword">function</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'animal eat'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// ç‹—</span>
<span class="token keyword">function</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">bark</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'dog bark'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// å“ˆå£«å¥‡</span>
<span class="token keyword">var</span> hashiqi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>ES6 class å®ç°ç»§æ‰¿</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>
    <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> eat</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>
    <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> say</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">'å“ˆå£«å¥‡'</span><span class="token punctuation">)</span>
dog<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
dog<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>æ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p> <ul><li>ä½¿ç”¨extendså³å¯å®ç°ç»§æ‰¿ï¼Œæ›´åŠ ç¬¦åˆç»å…¸é¢å‘å¯¹è±¡è¯­è¨€çš„å†™æ³•ï¼Œå¦‚ Java</li> <li>å­ç±»çš„constructorä¸€å®šè¦æ‰§è¡Œsuper()ï¼Œä»¥è°ƒç”¨çˆ¶ç±»çš„constructor</li></ul> <blockquote><p>é¢˜ç›®ï¼šES6 ä¸­æ–°å¢çš„æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿ</p></blockquote> <h2 id="set-å’Œ-map"><a href="#set-å’Œ-map" aria-hidden="true" class="header-anchor">#</a> Set å’Œ Map</h2> <p>Set å’Œ Map éƒ½æ˜¯ ES6 ä¸­æ–°å¢çš„æ•°æ®ç»“æ„ï¼Œæ˜¯å¯¹å½“å‰ JS æ•°ç»„å’Œå¯¹è±¡è¿™ä¸¤ç§é‡è¦æ•°æ®ç»“æ„çš„æ‰©å±•ã€‚ç”±äºæ˜¯æ–°å¢çš„æ•°æ®ç»“æ„ï¼Œç›®å‰å°šæœªè¢«å¤§è§„æ¨¡ä½¿ç”¨ï¼Œä½†æ˜¯ä½œä¸ºå‰ç«¯ç¨‹åºå‘˜ï¼Œæå‰äº†è§£æ˜¯å¿…é¡»åšåˆ°çš„ã€‚å…ˆæ€»ç»“ä¸€ä¸‹ä¸¤è€…æœ€å…³é”®çš„åœ°æ–¹ï¼š</p> <ul><li>Set ç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ•°ç»„å¯ä»¥å…è®¸å…ƒç´ é‡å¤ï¼ŒSet ä¸å…è®¸å…ƒç´ é‡å¤</li> <li>Map ç±»ä¼¼äºå¯¹è±¡ï¼Œä½†æ™®é€šå¯¹è±¡çš„ key å¿…é¡»æ˜¯å­—ç¬¦ä¸²æˆ–è€…æ•°å­—ï¼Œè€Œ Map çš„ key å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹</li></ul> <h3 id="set"><a href="#set" aria-hidden="true" class="header-anchor">#</a> Set</h3> <p>Set å®ä¾‹ä¸å…è®¸å…ƒç´ æœ‰é‡å¤ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ç¤ºä¾‹è¯æ˜ã€‚å¯ä»¥é€šè¿‡ä¸€ä¸ªæ•°ç»„åˆå§‹åŒ–ä¸€ä¸ª Set å®ä¾‹ï¼Œæˆ–è€…é€šè¿‡addæ·»åŠ å…ƒç´ ï¼Œå…ƒç´ ä¸èƒ½é‡å¤ï¼Œé‡å¤çš„ä¼šè¢«å¿½ç•¥ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä¾‹1</span>
<span class="token keyword">const</span> <span class="token keyword">set</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">set</span><span class="token punctuation">)</span> <span class="token comment">// Set(4) {1, 2, 3, 4}</span>

<span class="token comment">// ä¾‹2</span>
<span class="token keyword">const</span> <span class="token keyword">set</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token keyword">set</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> <span class="token keyword">set</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 2 3 5 4 8</span>
</code></pre></div><p>Set å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•æœ‰</p> <ul><li>sizeï¼šè·å–å…ƒç´ æ•°é‡ã€‚</li> <li>add(value)ï¼šæ·»åŠ å…ƒç´ ï¼Œè¿”å› Set å®ä¾‹æœ¬èº«ã€‚</li> <li>delete(value)ï¼šåˆ é™¤å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸã€‚</li> <li>has(value)ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦æ˜¯ Set å®ä¾‹çš„å…ƒç´ ã€‚</li> <li>clear()ï¼šæ¸…é™¤æ‰€æœ‰å…ƒç´ ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ·»åŠ å…ƒç´ </span>

s<span class="token punctuation">.</span>size <span class="token comment">// 2</span>

s<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
s<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
s<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

s<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

s<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Set(0) {}</span>
</code></pre></div><p>Set å®ä¾‹çš„éå†ï¼Œå¯ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•</p> <ul><li>keys()ï¼šè¿”å›é”®åçš„éå†å™¨ã€‚</li> <li>values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨ã€‚ä¸è¿‡ç”±äº Set ç»“æ„æ²¡æœ‰é”®åï¼Œåªæœ‰é”®å€¼ï¼ˆæˆ–è€…è¯´é”®åå’Œé”®å€¼æ˜¯åŒä¸€ä¸ªå€¼ï¼‰ï¼Œæ‰€ä»¥keys()å’Œvalues()è¿”å›ç»“æœä¸€è‡´ã€‚</li> <li>entries()ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨ã€‚</li> <li>forEach()ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token keyword">set</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'aaa'</span><span class="token punctuation">,</span> <span class="token string">'bbb'</span><span class="token punctuation">,</span> <span class="token string">'ccc'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> <span class="token keyword">set</span><span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// aaa</span>
<span class="token comment">// bbb</span>
<span class="token comment">// ccc</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> <span class="token keyword">set</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// aaa</span>
<span class="token comment">// bbb</span>
<span class="token comment">// ccc</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> <span class="token keyword">set</span><span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// [&quot;aaa&quot;, &quot;aaa&quot;]</span>
<span class="token comment">// [&quot;bbb&quot;, &quot;bbb&quot;]</span>
<span class="token comment">// [&quot;ccc&quot;, &quot;ccc&quot;]</span>

<span class="token keyword">set</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">' : '</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// aaa : aaa</span>
<span class="token comment">// bbb : bbb</span>
<span class="token comment">// ccc : ccc</span>
</code></pre></div><h3 id="map"><a href="#map" aria-hidden="true" class="header-anchor">#</a> Map</h3> <p>Map çš„ç”¨æ³•å’Œæ™®é€šå¯¹è±¡åŸºæœ¬ä¸€è‡´ï¼Œå…ˆçœ‹ä¸€ä¸‹å®ƒèƒ½ç”¨éå­—ç¬¦ä¸²æˆ–è€…æ•°å­—ä½œä¸º key çš„ç‰¹æ€§ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>p<span class="token punctuation">:</span> <span class="token string">'Hello World'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'OK'</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// &quot;OK&quot;</span>

map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// true</span>
map<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// true</span>
map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><p>éœ€è¦ä½¿ç”¨new Map()åˆå§‹åŒ–ä¸€ä¸ªå®ä¾‹ï¼Œä¸‹é¢ä»£ç ä¸­set get has deleteé¡¾åå³å¯æ€ä¹‰ï¼ˆä¸‹æ–‡ä¹Ÿä¼šæ¼”ç¤ºï¼‰ã€‚å…¶ä¸­ï¼Œmap.set(obj, 'OK')å°±æ˜¯ç”¨å¯¹è±¡ä½œä¸ºçš„ key ï¼ˆä¸å…‰å¯ä»¥æ˜¯å¯¹è±¡ï¼Œä»»ä½•æ•°æ®ç±»å‹éƒ½å¯ä»¥ï¼‰ï¼Œå¹¶ä¸”åé¢é€šè¿‡map.get(obj)æ­£ç¡®è·å–äº†ã€‚</p> <p>Map å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•å¦‚ä¸‹ï¼š</p> <ul><li>sizeï¼šè·å–æˆå‘˜çš„æ•°é‡</li> <li>setï¼šè®¾ç½®æˆå‘˜ key å’Œ value</li> <li>getï¼šè·å–æˆå‘˜å±æ€§å€¼</li> <li>hasï¼šåˆ¤æ–­æˆå‘˜æ˜¯å¦å­˜åœ¨</li> <li>deleteï¼šåˆ é™¤æˆå‘˜</li> <li>clearï¼šæ¸…ç©ºæ‰€æœ‰</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'aaa'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'bbb'</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

map<span class="token punctuation">.</span>size <span class="token comment">// 2</span>

map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'aaa'</span><span class="token punctuation">)</span> <span class="token comment">// 100</span>

map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">'aaa'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

map<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'aaa'</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">'aaa'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

map<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>Map å®ä¾‹çš„éå†æ–¹æ³•æœ‰ï¼š</p> <ul><li>keys()ï¼šè¿”å›é”®åçš„éå†å™¨ã€‚</li> <li>values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨ã€‚</li> <li>entries()ï¼šè¿”å›æ‰€æœ‰æˆå‘˜çš„éå†å™¨ã€‚</li> <li>forEach()ï¼šéå† Map çš„æ‰€æœ‰æˆå‘˜ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'aaa'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'bbb'</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// &quot;aaa&quot;</span>
<span class="token comment">// &quot;bbb&quot;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 100</span>
<span class="token comment">// 200</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// aaa 100</span>
<span class="token comment">// bbb 200</span>

<span class="token comment">// æˆ–è€…</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// aaa 100</span>
<span class="token comment">// bbb 200</span>
</code></pre></div><h2 id="promise"><a href="#promise" aria-hidden="true" class="header-anchor">#</a> Promise</h2> <p>Promiseæ˜¯ CommonJS æå‡ºæ¥çš„è¿™ä¸€ç§è§„èŒƒï¼Œæœ‰å¤šä¸ªç‰ˆæœ¬ï¼Œåœ¨ ES6 å½“ä¸­å·²ç»çº³å…¥è§„èŒƒï¼ŒåŸç”Ÿæ”¯æŒ Promise å¯¹è±¡ï¼Œé ES6 ç¯å¢ƒå¯ä»¥ç”¨ç±»ä¼¼ Bluebirdã€Q è¿™ç±»åº“æ¥æ”¯æŒã€‚</p> <p>Promise å¯ä»¥å°†å›è°ƒå˜æˆé“¾å¼è°ƒç”¨å†™æ³•ï¼Œæµç¨‹æ›´åŠ æ¸…æ™°ï¼Œä»£ç æ›´åŠ ä¼˜é›…ã€‚</p> <p>ç®€å•å½’çº³ä¸‹ Promiseï¼šä¸‰ä¸ªçŠ¶æ€ã€ä¸¤ä¸ªè¿‡ç¨‹ã€ä¸€ä¸ªæ–¹æ³•ï¼Œå¿«é€Ÿè®°å¿†æ–¹æ³•ï¼š3-2-1</p> <p>ä¸‰ä¸ªçŠ¶æ€ï¼špendingã€fulfilledã€rejected</p> <p>ä¸¤ä¸ªè¿‡ç¨‹ï¼š</p> <ul><li>pendingâ†’fulfilledï¼ˆresolveï¼‰</li> <li>pendingâ†’rejectedï¼ˆrejectï¼‰</li></ul> <p>ä¸€ä¸ªæ–¹æ³•ï¼šthen</p> <p>å½“ç„¶è¿˜æœ‰å…¶ä»–æ¦‚å¿µï¼Œå¦‚catchã€ Promise.all/raceï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ã€‚</p> <h2 id="å‚è€ƒç½‘å€"><a href="#å‚è€ƒç½‘å€" aria-hidden="true" class="header-anchor">#</a> å‚è€ƒç½‘å€</h2> <p><a href="">æ˜è¿›å°å†Œ</a></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/tech-snail/assets/js/app.8bc03a47.js" defer></script><script src="/tech-snail/assets/js/2.af02b215.js" defer></script><script src="/tech-snail/assets/js/24.9ed1c089.js" defer></script>
  </body>
</html>
